<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Brickwork Quantity & Cost Estimator — BY Er. Shankar Bhujel</title>
  <style>
    :root {
      --bg: #ffffff;
      --surface: #f5f5f5;
      --surface2: #e8e8e8;
      --border: #bdbdbd;
      --border-dark: #9e9e9e;
      --accent: #1565C0;
      --output: #2E7D32;
      --text: #212121;
      --muted: #616161;
      --header-bg: #1565C0;
      --header-text: #ffffff;
      --row-alt: #f9f9f9;
      --warn: #b71c1c;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: Arial, Helvetica, sans-serif;
      background: var(--bg);
      color: var(--text);
      font-size: 14px;
    }

    /* ── HEADER ── */
    .site-header {
      background: var(--header-bg);
      color: var(--header-text);
      padding: 0.6rem 1.5rem;
    }
    .header-inner {
      max-width: 980px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .header-by { font-size: 1rem; font-weight: bold; letter-spacing: 0.03em; }
    .header-tool-name { font-size: 0.82rem; opacity: 0.85; }

    /* ── NAV ── */
    .main-nav {
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      padding: 0.45rem 1.5rem;
      font-size: 0.82rem;
    }
    .main-nav a { color: var(--accent); text-decoration: none; margin-right: 1.5rem; }
    .main-nav a:hover { text-decoration: underline; }

    /* ── PAGE TITLE ── */
    .page-title {
      max-width: 980px;
      margin: 1rem auto 0.75rem;
      padding: 0 1.5rem 0.6rem;
      border-bottom: 2px solid var(--accent);
    }
    .page-title h1 { font-size: 1.25rem; color: var(--accent); margin-bottom: 0.2rem; }
    .page-title p { font-size: 0.82rem; color: var(--muted); }

    /* ── WRAPPER ── */
    .wrapper {
      max-width: 980px;
      margin: 0 auto;
      padding: 0 1.5rem 2rem;
    }

    /* ── SECTION LABEL ── */
    .section-label {
      font-size: 0.72rem;
      font-weight: bold;
      color: var(--header-bg);
      text-transform: uppercase;
      letter-spacing: 0.07em;
      background: var(--surface2);
      border: 1px solid var(--border);
      border-bottom: none;
      padding: 0.3rem 0.75rem;
      display: inline-block;
      margin-top: 1rem;
    }

    /* ── TABLES ── */
    table { width: 100%; border-collapse: collapse; font-size: 0.88rem; }

    table th {
      background: var(--accent);
      color: #fff;
      text-align: left;
      padding: 0.4rem 0.75rem;
      font-size: 0.75rem;
      letter-spacing: 0.04em;
      font-weight: bold;
      border: 1px solid #0d47a1;
    }

    table td {
      border: 1px solid var(--border);
      padding: 0.3rem 0.6rem;
      background: var(--bg);
      vertical-align: middle;
    }
    table tr:nth-child(even) td { background: var(--row-alt); }

    .param-label { width: 42%; font-weight: 500; color: var(--text); }
    .param-input { width: 38%; }
    .param-unit  { width: 20%; color: var(--muted); font-size: 0.8rem; }

    input[type="number"], select {
      width: 100%;
      border: 1px solid var(--border-dark);
      padding: 0.28rem 0.5rem;
      font-family: Arial, sans-serif;
      font-size: 0.88rem;
      background: #fff;
      color: var(--text);
      outline: none;
    }
    input[type="number"]:focus, select:focus {
      border-color: var(--accent);
      outline: 1px solid var(--accent);
    }

    /* ── OUTPUT TABLE ── */
    .output-table th {
      background: var(--surface2);
      color: var(--text);
      border: 1px solid var(--border);
    }
    .result-value {
      font-weight: bold;
      color: var(--output);
      font-family: 'Courier New', monospace;
      font-size: 0.92rem;
    }
    .result-total {
      font-weight: bold;
      color: var(--warn);
      font-family: 'Courier New', monospace;
      font-size: 1rem;
    }

    /* ── BUTTONS ── */
    .btn-row { margin: 0.75rem 0; display: flex; gap: 0.5rem; flex-wrap: wrap; }
    .calc-btn {
      background: var(--accent); color: #fff; border: none;
      padding: 0.45rem 1.6rem; font-size: 0.88rem;
      font-family: Arial, sans-serif; cursor: pointer; font-weight: bold;
    }
    .calc-btn:hover { background: #0d47a1; }
    .reset-btn {
      background: var(--surface2); color: var(--text);
      border: 1px solid var(--border-dark);
      padding: 0.45rem 1.2rem; font-size: 0.88rem;
      font-family: Arial, sans-serif; cursor: pointer;
    }
    .reset-btn:hover { background: #ddd; }
    .print-btn {
      background: #fff; color: var(--accent);
      border: 1px solid var(--accent);
      padding: 0.45rem 1.2rem; font-size: 0.88rem;
      font-family: Arial, sans-serif; cursor: pointer;
      margin-left: auto;
    }
    .print-btn:hover { background: #e3f0ff; }

    /* ── FORMULA BOX ── */
    .formula-box {
      background: #fffde7;
      border: 1px solid #f9a825;
      padding: 0.6rem 1rem;
      font-size: 0.8rem;
      font-family: 'Courier New', monospace;
      color: #5d4037;
      line-height: 1.7;
      margin-top: 0.5rem;
    }
    .formula-box strong { font-family: Arial, sans-serif; font-size: 0.78rem; }

    /* ── NOTE BOX ── */
    .note-box {
      background: #e8f5e9;
      border: 1px solid #a5d6a7;
      padding: 0.55rem 1rem;
      font-size: 0.8rem;
      color: #1b5e20;
      margin-top: 0.5rem;
      line-height: 1.6;
    }

    /* ── TWO COLUMN LAYOUT ── */
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-top: 0; }
    @media (max-width: 640px) { .two-col { grid-template-columns: 1fr; } }

    /* ── FOOTER ── */
    .site-footer {
      max-width: 980px;
      margin: 2rem auto 0;
      padding: 0.75rem 1.5rem;
      border-top: 1px solid var(--border);
      font-size: 0.76rem;
      color: var(--muted);
    }
    .site-footer a { color: var(--accent); text-decoration: none; }
    .site-footer a:hover { text-decoration: underline; }

    @media print {
      .btn-row, .main-nav { display: none; }
      .site-header { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
    }
  </style>
</head>
<body>

<!-- HEADER -->
<header class="site-header">
  <div class="header-inner">
    <span class="header-by">BY Er. Shankar Bhujel</span>
    <span class="header-tool-name">Brickwork Quantity &amp; Cost Estimator</span>
  </div>
</header>

<!-- NAV -->
<nav class="main-nav">
  <a href="../index.html">← Portfolio</a>
  <a href="index.html">Tools Index</a>
</nav>

<!-- PAGE TITLE -->
<div class="page-title">
  <h1>Brickwork Quantity &amp; Cost Estimator</h1>
  <p>Calculates number of bricks, mortar volume, and total cost for any wall section</p>
</div>

<div class="wrapper">

  <!-- ── SECTION 1: WALL DIMENSIONS ── -->
  <div class="section-label">1. Wall Dimensions</div>
  <table>
    <thead>
      <tr>
        <th class="param-label">Parameter</th>
        <th class="param-input">Value</th>
        <th class="param-unit">Unit</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="param-label">Wall Length (L)</td>
        <td class="param-input"><input type="number" id="length" value="5" min="0" step="0.01" /></td>
        <td class="param-unit">m</td>
      </tr>
      <tr>
        <td class="param-label">Wall Height (H)</td>
        <td class="param-input"><input type="number" id="height" value="3" min="0" step="0.01" /></td>
        <td class="param-unit">m</td>
      </tr>
      <tr>
        <td class="param-label">Wall Thickness</td>
        <td class="param-input">
          <select id="thickness">
            <option value="0.1">Half Brick (100 mm)</option>
            <option value="0.2" selected>One Brick (200 mm)</option>
            <option value="0.3">One &amp; Half Brick (300 mm)</option>
            <option value="custom">Custom</option>
          </select>
        </td>
        <td class="param-unit">—</td>
      </tr>
      <tr id="customThicknessRow" style="display:none;">
        <td class="param-label">Custom Thickness</td>
        <td class="param-input"><input type="number" id="customThickness" value="250" min="0" step="1" /></td>
        <td class="param-unit">mm</td>
      </tr>
    </tbody>
  </table>

  <!-- ── SECTION 2: OPENINGS (DEDUCTIONS) ── -->
  <div class="section-label">2. Openings / Deductions (optional)</div>
  <table>
    <thead>
      <tr>
        <th>Opening</th>
        <th>Width (m)</th>
        <th>Height (m)</th>
        <th>Count</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Doors</td>
        <td><input type="number" id="doorW" value="0.9" min="0" step="0.01" /></td>
        <td><input type="number" id="doorH" value="2.1" min="0" step="0.01" /></td>
        <td><input type="number" id="doorN" value="1"   min="0" step="1"    /></td>
      </tr>
      <tr>
        <td>Windows</td>
        <td><input type="number" id="winW"  value="1.2" min="0" step="0.01" /></td>
        <td><input type="number" id="winH"  value="1.2" min="0" step="0.01" /></td>
        <td><input type="number" id="winN"  value="2"   min="0" step="1"    /></td>
      </tr>
    </tbody>
  </table>

  <!-- ── SECTION 3: BRICK & MORTAR SPECS ── -->
  <div class="section-label">3. Brick &amp; Mortar Specifications</div>
  <div class="two-col">
    <div>
      <table>
        <thead>
          <tr><th colspan="3">Brick Dimensions</th></tr>
        </thead>
        <tbody>
          <tr>
            <td class="param-label">Brick Length</td>
            <td class="param-input"><input type="number" id="bL" value="230" min="1" step="1" /></td>
            <td class="param-unit">mm</td>
          </tr>
          <tr>
            <td class="param-label">Brick Width</td>
            <td class="param-input"><input type="number" id="bW" value="110" min="1" step="1" /></td>
            <td class="param-unit">mm</td>
          </tr>
          <tr>
            <td class="param-label">Brick Height</td>
            <td class="param-input"><input type="number" id="bH" value="75" min="1" step="1" /></td>
            <td class="param-unit">mm</td>
          </tr>
          <tr>
            <td class="param-label">Mortar Joint Thickness</td>
            <td class="param-input"><input type="number" id="joint" value="10" min="1" step="1" /></td>
            <td class="param-unit">mm</td>
          </tr>
          <tr>
            <td class="param-label">Wastage Factor</td>
            <td class="param-input"><input type="number" id="wastage" value="5" min="0" step="0.5" /></td>
            <td class="param-unit">%</td>
          </tr>
          <tr>
            <td class="param-label">Dry-to-Wet Bulking Factor <span style="font-weight:normal;color:var(--muted);font-size:0.76rem;">(IS 2212 recommends 1.30)</span></td>
            <td class="param-input"><input type="number" id="bulkFactor" value="1.30" min="1" max="2" step="0.01" /></td>
            <td class="param-unit">—</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div>
      <table>
        <thead>
          <tr><th colspan="3">Mortar Mix &amp; Rate</th></tr>
        </thead>
        <tbody>
          <tr>
            <td class="param-label">Mortar Mix Ratio (Cement:Sand)</td>
            <td class="param-input">
              <select id="mortarMix">
                <option value="1:3">1:3</option>
                <option value="1:4">1:4</option>
                <option value="1:5" selected>1:5</option>
                <option value="1:6">1:6</option>
              </select>
            </td>
            <td class="param-unit">—</td>
          </tr>
          <tr>
            <td class="param-label">Cement Cost</td>
            <td class="param-input"><input type="number" id="cementCost" value="900" min="0" step="1" /></td>
            <td class="param-unit">NPR / bag (50 kg)</td>
          </tr>
          <tr>
            <td class="param-label">Sand Cost</td>
            <td class="param-input"><input type="number" id="sandCost" value="2500" min="0" step="1" /></td>
            <td class="param-unit">NPR / m³</td>
          </tr>
          <tr>
            <td class="param-label">Brick Rate</td>
            <td class="param-input"><input type="number" id="brickCost" value="18" min="0" step="0.5" /></td>
            <td class="param-unit">NPR / brick</td>
          </tr>
          <tr>
            <td class="param-label">Labour Rate</td>
            <td class="param-input"><input type="number" id="labourCost" value="350" min="0" step="1" /></td>
            <td class="param-unit">NPR / m²</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- FORMULA REFERENCE -->
  <div style="margin-top:0.5rem;">
    <button onclick="toggleFormula()" id="formulaToggleBtn" style="background:none;border:1px solid #f9a825;color:#5d4037;font-size:0.78rem;font-family:Arial,sans-serif;padding:0.25rem 0.75rem;cursor:pointer;">▶ Show Formulas Used</button>
    <div id="formulaBox" class="formula-box" style="display:none;margin-top:0;">
      <strong>Formulas used:</strong><br>
      Gross Wall Area = L × H &nbsp;|&nbsp; Net Wall Area = Gross − Openings<br>
      Wall Volume = Net Area × Thickness<br>
      Brick Volume (with joint) = (bL + j) × (bW + j) × (bH + j) in m³<br>
      No. of Bricks = Wall Volume / Brick Volume × (1 + wastage%)<br>
      Mortar Volume ≈ Wall Volume − (No. bricks × bL×bW×bH)<br>
      Dry Mortar Volume = Mortar Volume × Bulking Factor<br>
      Cement bags = Dry Vol × (1 / (ratio+1)) / 0.035 m³ per bag<br>
      Sand = Dry Vol × (ratio / (ratio+1))
    </div>
  </div>

  <!-- BUTTONS -->
  <div class="btn-row">
    <button class="calc-btn" onclick="calculate()">Calculate</button>
    <button class="reset-btn" onclick="resetForm()">Reset</button>
  </div>

  <!-- ── RESULTS ── -->
  <div class="section-label">4. Results</div>
  <div class="two-col">
    <div>
      <table class="output-table">
        <thead><tr><th colspan="3">Quantity Summary</th></tr></thead>
        <tbody>
          <tr>
            <td class="param-label">Gross Wall Area</td>
            <td class="result-value" id="r_grossArea">—</td>
            <td class="param-unit">m²</td>
          </tr>
          <tr>
            <td class="param-label">Opening Area (deducted)</td>
            <td class="result-value" id="r_openingArea">—</td>
            <td class="param-unit">m²</td>
          </tr>
          <tr>
            <td class="param-label">Net Wall Area</td>
            <td class="result-value" id="r_netArea">—</td>
            <td class="param-unit">m²</td>
          </tr>
          <tr>
            <td class="param-label">Wall Volume</td>
            <td class="result-value" id="r_volume">—</td>
            <td class="param-unit">m³</td>
          </tr>
          <tr>
            <td class="param-label">Bricks Required (net)</td>
            <td class="result-value" id="r_bricksNet">—</td>
            <td class="param-unit">nos</td>
          </tr>
          <tr>
            <td class="param-label">Bricks Required (with wastage)</td>
            <td class="result-value" id="r_bricksGross">—</td>
            <td class="param-unit">nos</td>
          </tr>
          <tr>
            <td class="param-label">Mortar Volume (wet)</td>
            <td class="result-value" id="r_mortarWet">—</td>
            <td class="param-unit">m³</td>
          </tr>
          <tr>
            <td class="param-label">Dry Mortar Volume</td>
            <td class="result-value" id="r_mortarDry">—</td>
            <td class="param-unit">m³</td>
          </tr>
          <tr>
            <td class="param-label">Cement Required</td>
            <td class="result-value" id="r_cement">—</td>
            <td class="param-unit">bags (50 kg)</td>
          </tr>
          <tr>
            <td class="param-label">Sand Required</td>
            <td class="result-value" id="r_sand">—</td>
            <td class="param-unit">m³</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div>
      <table class="output-table">
        <thead><tr><th colspan="2">Cost Breakdown</th></tr></thead>
        <tbody>
          <tr>
            <td class="param-label">Brick Cost</td>
            <td class="result-value" id="r_costBrick">—</td>
          </tr>
          <tr>
            <td class="param-label">Cement Cost</td>
            <td class="result-value" id="r_costCement">—</td>
          </tr>
          <tr>
            <td class="param-label">Sand Cost</td>
            <td class="result-value" id="r_costSand">—</td>
          </tr>
          <tr>
            <td class="param-label">Labour Cost</td>
            <td class="result-value" id="r_costLabour">—</td>
          </tr>
          <tr>
            <td style="font-weight:bold; border:1px solid var(--border); padding:0.3rem 0.6rem;">TOTAL COST</td>
            <td class="result-total" id="r_costTotal">—</td>
          </tr>
          <tr>
            <td class="param-label">Cost per m²</td>
            <td class="result-value" id="r_costPerSqm">—</td>
          </tr>
          <tr>
            <td class="param-label">Cost per m³</td>
            <td class="result-value" id="r_costPerCum">—</td>
          </tr>
        </tbody>
      </table>

      <div class="note-box" style="margin-top:0.75rem;">
        ℹ️ Bulking factor (IS 2212): dry mortar volume = wet × factor (default 1.30).<br>
        Labour rate applied to net wall area (m²).<br>
        All costs in Nepalese Rupees (NPR). Adjust rates for your region.
      </div>
    </div>
  </div>

</div><!-- /wrapper -->

<!-- FOOTER -->
<footer class="site-footer">
  BY Er. Shankar Bhujel &nbsp;·&nbsp; Engineering Tools &nbsp;·&nbsp;
  <a href="../index.html">← Back to Portfolio</a>
</footer>

<script>
  // Show/hide custom thickness input
  document.getElementById('thickness').addEventListener('change', function() {
    document.getElementById('customThicknessRow').style.display =
      this.value === 'custom' ? '' : 'none';
  });

  function fmt(n, dec = 2) { return Number(n).toFixed(dec); }
  function fmtInt(n)        { return Math.ceil(n).toLocaleString(); }
  function fmtCur(n)        { return 'NPR ' + Number(n).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ','); }

  function set(id, val) { document.getElementById(id).textContent = val; }

  function calculate() {
    // ── Inputs ──
    const L = parseFloat(document.getElementById('length').value)  || 0;
    const H = parseFloat(document.getElementById('height').value)  || 0;

    let thickSel = document.getElementById('thickness').value;
    let T = thickSel === 'custom'
      ? (parseFloat(document.getElementById('customThickness').value) || 0) / 1000
      : parseFloat(thickSel);

    const doorW = parseFloat(document.getElementById('doorW').value) || 0;
    const doorH = parseFloat(document.getElementById('doorH').value) || 0;
    const doorN = parseFloat(document.getElementById('doorN').value) || 0;
    const winW  = parseFloat(document.getElementById('winW').value)  || 0;
    const winH  = parseFloat(document.getElementById('winH').value)  || 0;
    const winN  = parseFloat(document.getElementById('winN').value)  || 0;

    const bL      = (parseFloat(document.getElementById('bL').value)    || 230) / 1000;
    const bW      = (parseFloat(document.getElementById('bW').value)    || 110) / 1000;
    const bH      = (parseFloat(document.getElementById('bH').value)    || 75)  / 1000;
    const joint   = (parseFloat(document.getElementById('joint').value) || 10)  / 1000;
    const wastage = (parseFloat(document.getElementById('wastage').value)|| 5)  / 100;

    const mixStr   = document.getElementById('mortarMix').value;   // e.g. "1:5"
    const ratio    = parseFloat(mixStr.split(':')[1]);              // sand parts

    const cementCostPerBag = parseFloat(document.getElementById('cementCost').value) || 0;
    const sandCostPerM3    = parseFloat(document.getElementById('sandCost').value)    || 0;
    const brickCostEach    = parseFloat(document.getElementById('brickCost').value)   || 0;
    const labourPerM2      = parseFloat(document.getElementById('labourCost').value)  || 0;

    // ── Areas ──
    const grossArea   = L * H;
    const openingArea = doorW * doorH * doorN + winW * winH * winN;
    const netArea     = Math.max(0, grossArea - openingArea);
    const wallVolume  = netArea * T;

    // ── Brick volume with mortar joint ──
    const brickVol   = (bL + joint) * (bW + joint) * (bH + joint);   // per brick with joint
    const bricksNet  = wallVolume / brickVol;
    const bricksGross = bricksNet * (1 + wastage);

    // ── Mortar ──
    const mortarWet  = wallVolume - (bricksNet * bL * bW * bH);
    const bulkFactor = parseFloat(document.getElementById('bulkFactor').value) || 1.30;
    const mortarDry  = mortarWet * bulkFactor;

    // Cement: total parts = 1 + ratio; cement = 1/(1+ratio); volume per bag = 0.035 m³
    const totalParts   = 1 + ratio;
    const cementVol    = mortarDry * (1 / totalParts);
    const cementBags   = cementVol / 0.035;
    const sandVol      = mortarDry * (ratio / totalParts);

    // ── Costs ──
    const costBrick   = bricksGross * brickCostEach;
    const costCement  = Math.ceil(cementBags) * cementCostPerBag;
    const costSand    = sandVol * sandCostPerM3;
    const costLabour  = netArea * labourPerM2;
    const costTotal   = costBrick + costCement + costSand + costLabour;
    const costPerSqm  = netArea > 0 ? costTotal / netArea : 0;
    const costPerCum  = wallVolume > 0 ? costTotal / wallVolume : 0;

    // ── Display ──
    set('r_grossArea',    fmt(grossArea)   + ' m²');
    set('r_openingArea',  fmt(openingArea) + ' m²');
    set('r_netArea',      fmt(netArea)     + ' m²');
    set('r_volume',       fmt(wallVolume)  + ' m³');
    set('r_bricksNet',    fmtInt(bricksNet) + ' nos');
    set('r_bricksGross',  fmtInt(bricksGross) + ' nos');
    set('r_mortarWet',    fmt(mortarWet)   + ' m³');
    set('r_mortarDry',    fmt(mortarDry)   + ' m³');
    set('r_cement',       fmt(cementBags, 1) + ' bags (' + Math.ceil(cementBags) + ' bags ordered)');
    set('r_sand',         fmt(sandVol)     + ' m³');

    set('r_costBrick',    fmtCur(costBrick));
    set('r_costCement',   fmtCur(costCement));
    set('r_costSand',     fmtCur(costSand));
    set('r_costLabour',   fmtCur(costLabour));
    set('r_costTotal',    fmtCur(costTotal));
    set('r_costPerSqm',   fmtCur(costPerSqm) + ' / m²');
    set('r_costPerCum',   fmtCur(costPerCum)  + ' / m³');
  }

  function resetForm() {
    document.getElementById('length').value      = 5;
    document.getElementById('height').value      = 3;
    document.getElementById('thickness').value   = '0.2';
    document.getElementById('customThicknessRow').style.display = 'none';
    document.getElementById('doorW').value = 0.9;
    document.getElementById('doorH').value = 2.1;
    document.getElementById('doorN').value = 1;
    document.getElementById('winW').value  = 1.2;
    document.getElementById('winH').value  = 1.2;
    document.getElementById('winN').value  = 2;
    document.getElementById('bL').value    = 230;
    document.getElementById('bW').value    = 110;
    document.getElementById('bH').value    = 75;
    document.getElementById('joint').value = 10;
    document.getElementById('wastage').value     = 5;
    document.getElementById('bulkFactor').value  = 1.30;
    document.getElementById('mortarMix').value   = '1:5';
    document.getElementById('cementCost').value  = 900;
    document.getElementById('sandCost').value    = 2500;
    document.getElementById('brickCost').value   = 18;
    document.getElementById('labourCost').value  = 350;

    const ids = ['r_grossArea','r_openingArea','r_netArea','r_volume',
                 'r_bricksNet','r_bricksGross','r_mortarWet','r_mortarDry',
                 'r_cement','r_sand','r_costBrick','r_costCement','r_costSand',
                 'r_costLabour','r_costTotal','r_costPerSqm','r_costPerCum'];
    ids.forEach(id => document.getElementById(id).textContent = '—');
  }

  function toggleFormula() {
    const box = document.getElementById('formulaBox');
    const btn = document.getElementById('formulaToggleBtn');
    const visible = box.style.display !== 'none';
    box.style.display = visible ? 'none' : 'block';
    btn.textContent = visible ? '▶ Show Formulas Used' : '▼ Hide Formulas Used';
  }

  // Auto-calculate on load with defaults
  window.onload = calculate;
</script>
</body>
</html>
